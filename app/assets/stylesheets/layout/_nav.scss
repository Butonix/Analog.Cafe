@import "base/colors";
@import "base/sizes";
@import "base/typography";
@import "base/selectors";

@import "helpers/mixins";


$nav-logo-width: $size-fontbase--larger/1.5;
body > nav {
	position: relative;
	z-index: z('menu');
	
	padding-top: $size-fontbase--larger/1.2;
	padding-bottom: $size-fontbase--larger/2;
	
	.logo-container {
		position: fixed;
		top: $size-column--safety/2;
		padding: $size-content-block-spacing;
		left: calc(50% - #{$nav-logo-width + $size-content-block-spacing/2});
		z-index: z('layer-up');
		border-radius: $size-fontbase--larger;
		-webkit-backdrop-filter: blur(5px);
		backdrop-filter: blur(5px);
		background: rgba($color-background, $opacity-half);
		box-shadow: 0 0 0 1px $color-foreground;
		h1 {
			font-size: .35em;
			text-transform: uppercase;
			position: absolute;
			transform-origin: 4.275em 4.225em;
			transform: rotate(80deg);
			color: $color-foreground;
			z-index: z('layer-up');
			span {
				display: block;
				position: absolute;
				width: 1em;
				height: 1em;
				left: $nav-logo-width * 2;
				top: $nav-logo-width * 5;
				text-align: center;
				transform-origin: 0.5em -5.5em;
				@for $i from 0 to 11 {
					&:nth-child(#{$i + 1}) { transform: rotate( #{-$i * 8.75}deg ); }
				}    
    
			}
		}
		.button {
			width: $nav-logo-width;
			height: $nav-logo-width;
			line-height: $nav-logo-width;
			overflow: hidden;
			margin: 0 auto;
			padding: $size-content-block-spacing/2;
			border-radius: $size-fontbase--larger;
			background: $color-brand;
			text-align: center;
			box-shadow: none;
			#{$tap-this} {
				box-shadow: 0 0 0 $size-content-block-spacing $color-background--highlight;
				& .logo path {
					fill: $color-background--highlight;
				}
			}
			& .logo {
				max-height: 100%;
				max-width: 100%;
				& path {
					fill: $color-background;
				}
			}	
		}
		&.-view {
			box-shadow: 0 0 0 1px $color-brand;
			h1 { color: $color-brand; }
		}
	}
	& > ul {
		padding: 0;
		display: flex;
		align-items: center;
		justify-content: center;
		margin: 0 auto;
		& li {
			display: block;
			@include font-header--stack;
			font-weight: $font-header--weight;
			text-align: center;
			width: 7em;
			span::before { content: attr(data-label--prepend); }
			@include breakpoint(0 $size-minwidth * 2){
				span::before { content: '' }
				$n: '&.nav-important';
				&:not(.nav-center):not(#{$n}--left):not(#{$n}--right) { display: none; }
				#{$n}--left {
					order: 0;
					text-align: right;
				}
				&.nav-center { order: 1; }
				#{$n}--right {
					order: 2;
					text-align: left;
				}
			}
			@include breakpoint($size-breakpoint-xs){ &:not(.nav-center) { display: none; } }
			& a {
				font-size: $size-fontbase--smaller;
				background: $color-background; 
				text-decoration: none;
				position: relative;
				&.-view {
					&::before {
						content: "";
						width: 110%;
						left: -5%;
						height: 1px;
						bottom: -5px;
						background: $color-brand;
						position: absolute;
					}
				}
			}
			
// 			& .badge {
// 				display: inline-block;
// 				width: $size-corner-med;
// 				height: $size-corner-med;
// 				border-radius: $size-corner-med;
// 				margin-bottom: $size-corner-med;
// 				background: $color-brand;
// 				@include breakpoint($size-breakpoint-s){
// 					position: fixed;
// 					margin-top: -#{$size-corner-med};
// 				}
// 			}

		}
	}
}